[buildout]
extends = container_dataserver.cfg

[main-conf]
redis_client_url = redis://redis:6379
memcached_servers = memcached:11211

[supervisor]
logfile=/dev/null
logfile-maxbytes = 0
childstdout-logfile-maxbytes = 1024
childstderr-logfile-maxbytes = 1024
nocleanup = False
pserve_group_programs = pserve,metadata,solr_indexer,library_renderer,scheduled_job_dispatcher,scheduled_job_executor
programs =
        999 pserve (stopwaitsecs=30) ${deployment:root-directory}/bin/nti_pserve [${:pserve-ini}]
        99 solr_indexer (stopwaitsecs=30) ${deployment:bin-directory}/nti_solr_indexer [-v --slugs]
        99 metadata (stopwaitsecs=30) ${deployment:bin-directory}/nti_metadata_processor [-v --slugs]
        99 library_renderer (stopwaitsecs=30) ${deployment:bin-directory}/nti_library_renderer [-v -r 1 -s 2 --slugs]
        99 scheduled_job_dispatcher (stopwaitsecs=30) ${deployment:bin-directory}/nti_scheduled_dispatcher [-v --slugs]
        99 scheduled_job_executor (stopwaitsecs=30) ${deployment:bin-directory}/nti_scheduled_executor [-v --slugs]